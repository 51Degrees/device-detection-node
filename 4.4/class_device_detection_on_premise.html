<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Device Detection Node.js: DeviceDetectionOnPremise Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="../../documentation/4.4/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees Device Detection Node.js
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">51Degrees Device Detection for Node.js</div>
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_device_detection_on_premise.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="class_device_detection_on_premise.html">DeviceDetectionOnPremise</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">DeviceDetectionOnPremise Class Reference</h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section">
<a name="details" id="details"></a><h2 class="g-docs__section-heading">Detailed Description</h2>
<section class="g-docs__section"><p>On premise version of the 51Degrees Device Detection Engine Uses a data file to process evidence in FlowData and create results This datafile can automatically update when a new version is available. </p>
</section></section>
<!-- start ClassInheritanceGraph -->
<section class="g-docs__section">
<h2 class="g-docs__section-heading">
Inheritance diagram for DeviceDetectionOnPremise:</h2>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_device_detection_on_premise__inherit__graph.svg" width="212" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
</section>
<!-- end ClassInheritanceGraph -->
<section class="g-docs__section">
<h2 class="g-docs__section-heading">
Collaboration diagram for DeviceDetectionOnPremise:</h2>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_device_detection_on_premise__coll__graph.svg" width="212" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
</section>
<!-- start MemberDeclStart -->
<!-- startMemberSections -->
<!-- end MemberDeclStart -->
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="pub-methods"></a>
Public Member Functions</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:a7e2646ccd4f92365748b3661e2347e25"><td class="c-table__cell"><!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="class_device_detection_on_premise.html#a7e2646ccd4f92365748b3661e2347e25">constructor</a> ({ dataFilePath, autoUpdate, cache, dataUpdateUrl=constants.dataUpdateUrl, dataUpdateVerifyMd5=true, dataUpdateUseUrlFormatter=true, restrictedProperties, licenceKeys, download, performanceProfile='LowMemory', reuseTempFile=false, updateMatchedUserAgent=false, maxMatchedUserAgentLength, drift, difference, concurrency=os.cpus().length, allowUnmatched, fileSystemWatcher, pollingInterval, updateTimeMaximumRandomisation, createTempDataCopy, tempDataDir=os.tmpdir(), updateOnStart=false })
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:a7e2646ccd4f92365748b3661e2347e25">Constructor for Device Detection On Premise engine.  <a href="#a7e2646ccd4f92365748b3661e2347e25">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:a70c99c4f2e5a3289a2c71d217e48d4ad"><td class="c-table__cell"><a id="a70c99c4f2e5a3289a2c71d217e48d4ad"></a>
*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><b>profiles</b> ()
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:acc5c63c1c0497faed9951cad851c2eda"><td class="c-table__cell"><!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="class_device_detection_on_premise.html#acc5c63c1c0497faed9951cad851c2eda">processInternal</a> (flowData)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:acc5c63c1c0497faed9951cad851c2eda">Internal process method for Device Detection On Premise engine Fetches the results from the SWIG wrapper into an instance of the <a class="el" href="class_swig_data.html" title="Extension of aspectData which stores the results created by the SWIG wrapper.">SwigData</a> class which can be used to retrieve results from the FlowData.  <a href="#acc5c63c1c0497faed9951cad851c2eda">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<!-- start MemberGroups -->
<!-- end MemberGroups -->
<section class="g-docs__section">
<h2 class="g-docs__section-heading">Member Function Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="a7e2646ccd4f92365748b3661e2347e25"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#a7e2646ccd4f92365748b3661e2347e25">&#9670;&nbsp;</a></span>constructor()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">DeviceDetectionOnPremise::constructor <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>{ dataFilePath, autoUpdate, cache, dataUpdateUrl=constants.dataUpdateUrl, dataUpdateVerifyMd5=true, dataUpdateUseUrlFormatter=true, restrictedProperties, licenceKeys, download, performanceProfile='LowMemory', reuseTempFile=false, updateMatchedUserAgent=false, maxMatchedUserAgentLength, drift, difference, concurrency=os.cpus().length, allowUnmatched, fileSystemWatcher, pollingInterval, updateTimeMaximumRandomisation, createTempDataCopy, tempDataDir=os.tmpdir(), updateOnStart=false }</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
<!-- startLabels -->
<div class="c-member__labels">
<!-- writeLabel(inline) -->
<span class="c-label">inline</span><!-- endLabels -->
</div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Constructor for Device Detection On Premise engine. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{object}</span> - options options for the engine </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - options.dataFilePath path to the datafile </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.autoUpdate whether the datafile should be registered with the data file update service </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - options.pollingInterval How often to poll for updates to the datafile (minutes) </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - options.updateTimeMaximumRandomisation Maximum randomisation offset in seconds to polling time interval </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{DataKeyedCache}</span> - options.cache an instance of the Cache class from Fiftyone.Pipeline.Engines. NOTE: This is no longer supported for on-premise engine. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - options.dataUpdateUrl base url for the datafile update service </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.dataUpdateVerifyMd5 whether to check MD5 of datafile </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.dataUpdateUseUrlFormatter whether to append default URL params for Data File download </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{Array&lt;string&gt;}</span> - options.restrictedProperties list of properties the engine will be restricted to </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - options.licenceKeys license key(s) used by the data file update service. A key can be obtained from the 51Degrees website: <a href="https://51degrees.com/pricing">https://51degrees.com/pricing</a>. If you do not wish to use a key then you can specify an empty string, but this will cause automatic updates to be disabled. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.download whether to download the datafile or store it in memory </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - options.performanceProfile options are: LowMemory, MaxPerformance, Balanced, BalancedTemp, HighPerformance </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.fileSystemWatcher whether to monitor the datafile path for changes </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - options.concurrency defaults to the number of cpus in the machine </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.reuseTempFile Indicates that an existing temp file may be used. This should be selected if multiple instances wish to use the same file to prevent high disk usage. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.updateMatchedUserAgent True if the detection should record the matched characters from the target User-Agent </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - options.maxMatchedUserAgentLength Number of characters to consider in the matched User-Agent. Ignored if updateMatchedUserAgent is false </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - options.drift Set maximum drift in hash position to allow when processing HTTP headers. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - options.difference Set the maximum difference to allow when processing HTTP headers. The difference is the difference in hash value between the hash that was found, and the hash that is being searched for. By default this is 0. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.allowUnmatched True if there should be at least one matched node in order for the results to be considered valid. By default, this is false </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.createTempDataCopy If true, the engine will create a copy of the data file in a temporary location rather than using the file provided directly. If not loading all data into memory, this is required for automatic data updates to occur. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - options.tempDataDir The directory to use for the temporary data copy if 'createTempDataCopy' is set to true. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - options.updateOnStart whether to download / update the datafile on initialisation </dd>
  </dd>
</dl>
<p>Function for initialising the engine, wrapped like this so that an engine can be initialised once the datafile is retrieved if updateOnStart is set to true</p>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">{void}</dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="acc5c63c1c0497faed9951cad851c2eda"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#acc5c63c1c0497faed9951cad851c2eda">&#9670;&nbsp;</a></span>processInternal()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">DeviceDetectionOnPremise::processInternal <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>flowData</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
<!-- startLabels -->
<div class="c-member__labels">
<!-- writeLabel(inline) -->
<span class="c-label">inline</span><!-- endLabels -->
</div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Internal process method for Device Detection On Premise engine Fetches the results from the SWIG wrapper into an instance of the <a class="el" href="class_swig_data.html" title="Extension of aspectData which stores the results created by the SWIG wrapper.">SwigData</a> class which can be used to retrieve results from the FlowData. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{FlowData}</span> - flowData FlowData to process </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">{Promise&lt;void&gt;} the result of processing </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
</section>
</div><!-- primary -->
  <div class="g-docs__sidebar">
    <div class="c-section-nav">
      <h5 class="c-section-nav__heading">On This Page</h5>
        <ul class="c-section-nav__list">
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#pub-methods">Public Member Functions</a></li>    </div>
  </div>
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
