<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Device Detection Node.js: DeviceDetectionOnPremisePipelineBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="../../documentation/4.4/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees Device Detection Node.js
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">51Degrees Device Detection for Node.js</div>
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_device_detection_on_premise_pipeline_builder.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="class_device_detection_on_premise_pipeline_builder.html">DeviceDetectionOnPremisePipelineBuilder</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">DeviceDetectionOnPremisePipelineBuilder Class Reference</h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section">
<a name="details" id="details"></a><h2 class="g-docs__section-heading">Detailed Description</h2>
<section class="g-docs__section"><dl class="c-list-definition examples"><dt class="c-list-definition__title">Examples</dt><dd class="c-list-definition__desc"><a class="el" href="onpremise_2automaticupdates_2data_file_system_watcher_8js-example.html#_a0">onpremise/automaticupdates/dataFileSystemWatcher.js</a>, <a class="el" href="onpremise_2automaticupdates_2update_on_start_up_8js-example.html#_a0">onpremise/automaticupdates/updateOnStartUp.js</a>, <a class="el" href="onpremise_2automaticupdates_2update_polling_interval_8js-example.html#_a0">onpremise/automaticupdates/updatePollingInterval.js</a>, <a class="el" href="onpremise_2gettingstarted-console_2getting_started_8js-example.html#_a0">onpremise/gettingstarted-console/gettingStarted.js</a>, <a class="el" href="onpremise_2matchmetrics-console_2match_metrics_8js-example.html#_a0">onpremise/matchmetrics-console/matchMetrics.js</a>, <a class="el" href="onpremise_2metadata-console_2meta_data_8js-example.html#_a0">onpremise/metadata-console/metaData.js</a>, <a class="el" href="onpremise_2offlineprocessing-console_2offline_processing_8js-example.html#_a0">onpremise/offlineprocessing-console/offlineProcessing.js</a>, <a class="el" href="onpremise_2performance-console_2performance_8js-example.html#_a0">onpremise/performance-console/performance.js</a>, <a class="el" href="onpremise_2updatedatafile-console_2updatedatafile_8js-example.html#_a0">onpremise/updatedatafile-console/updatedatafile.js</a>, and <a class="el" href="onpremise_2useragentclienthints-web_2user_agent_client_hints_web_8js-example.html#_a0">onpremise/useragentclienthints-web/userAgentClientHintsWeb.js</a>.</dd>
</dl>
</section></section>
<!-- start ClassInheritanceGraph -->
<section class="g-docs__section">
<h2 class="g-docs__section-heading">
Inheritance diagram for DeviceDetectionOnPremisePipelineBuilder:</h2>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_device_detection_on_premise_pipeline_builder__inherit__graph.svg" width="212" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
</section>
<!-- end ClassInheritanceGraph -->
<section class="g-docs__section">
<h2 class="g-docs__section-heading">
Collaboration diagram for DeviceDetectionOnPremisePipelineBuilder:</h2>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_device_detection_on_premise_pipeline_builder__coll__graph.svg" width="212" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
</section>
<!-- start MemberDeclStart -->
<!-- startMemberSections -->
<!-- end MemberDeclStart -->
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="pub-methods"></a>
Public Member Functions</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ac3b19cabb24a3611efa2f47782afb60c"><td class="c-table__cell"><!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="class_device_detection_on_premise_pipeline_builder.html#ac3b19cabb24a3611efa2f47782afb60c">constructor</a> ({ dataFileUpdateService=null, licenceKeys=null, dataFile=null, dataUpdateVerifyMd5=true, dataUpdateUseUrlFormatter=true, autoUpdate=true, dataUpdateUrl=null, pollingInterval=30, updateTimeMaximumRandomisation=10, shareUsage=true, fileSystemWatcher=true, updateOnStart=false, cacheSize=null, restrictedProperties, performanceProfile='LowMemory', concurrency=os.cpus().length, updateMatchedUserAgent=false, maxMatchedUserAgentLength, drift, difference, allowUnmatched=false, createTempDataCopy, tempDataDir })
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ac3b19cabb24a3611efa2f47782afb60c">Extension of pipelineBuilder class that allows for the quick generation of a device detection pipeline.  <a href="#ac3b19cabb24a3611efa2f47782afb60c">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<!-- start MemberGroups -->
<!-- end MemberGroups -->
<section class="g-docs__section">
<h2 class="g-docs__section-heading">Member Function Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="ac3b19cabb24a3611efa2f47782afb60c"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ac3b19cabb24a3611efa2f47782afb60c">&#9670;&nbsp;</a></span>constructor()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">DeviceDetectionOnPremisePipelineBuilder::constructor <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>{ dataFileUpdateService=null, licenceKeys=null, dataFile=null, dataUpdateVerifyMd5=true, dataUpdateUseUrlFormatter=true, autoUpdate=true, dataUpdateUrl=null, pollingInterval=30, updateTimeMaximumRandomisation=10, shareUsage=true, fileSystemWatcher=true, updateOnStart=false, cacheSize=null, restrictedProperties, performanceProfile='LowMemory', concurrency=os.cpus().length, updateMatchedUserAgent=false, maxMatchedUserAgentLength, drift, difference, allowUnmatched=false, createTempDataCopy, tempDataDir }</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
<!-- startLabels -->
<div class="c-member__labels">
<!-- writeLabel(inline) -->
<span class="c-label">inline</span><!-- endLabels -->
</div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Extension of pipelineBuilder class that allows for the quick generation of a device detection pipeline. </p>
<p>Adds share usage, caching and toggles between on premise and cloud with simple paramater changes</p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{object}</span> - options the options for the pipeline builder </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - [options.licenceKeys] license key(s) used by the data file update service. A key can be obtained from the 51Degrees website: <a href="https://51degrees.com/pricing">https://51degrees.com/pricing</a>. This parameter MUST be set when using a data file. If you do not wish to use a key then you can specify an empty string, but this will cause automatic updates to be disabled. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - options.dataFile dataFile path for the on premise engine </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.dataUpdateVerifyMd5] whether to check MD5 of datafile </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.dataUpdateUseUrlFormatter] whether to append default URL params for Data File download </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.autoUpdate] whether to autoUpdate the dataFile </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - [options.dataUpdateUrl] base url for the datafile </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - [options.pollingInterval] How often to poll for updates to the datafile (minutes) </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - [options.updateTimeMaximumRandomisation] Maximum randomisation offset in seconds to polling time interval </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.shareUsage] whether to include the share usage element </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.fileSystemWatcher] whether to monitor the datafile path for changes </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.updateOnStart] whether to download / update a dataFile to the path specified in options.dataFile on start </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - [options.cacheSize] size of the default cache (includes cache if set). NOTE: This is not supported for on-premise engine. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{Array&lt;string&gt;}</span> - [options.restrictedProperties] list of properties the engine will be restricted to </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - [options.performanceProfile] used to control the tradeoff between performance and system memory usage (Only applies to on-premise, not cloud) options are: LowMemory, MaxPerformance, Balanced, BalancedTemp, HighPerformance </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - [options.concurrency] defaults to the number of cpus in the machine </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.updateMatchedUserAgent] True if the detection should record the matched characters from the target User-Agent </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - [options.maxMatchedUserAgentLength] Number of characters to consider in the matched User-Agent. Ignored if updateMatchedUserAgent is false </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - [options.drift] Set maximum drift in hash position to allow when processing HTTP headers. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{number}</span> - [options.difference] Set the maximum difference to allow when processing HTTP headers. The difference is the difference in hash value between the hash that was found, and the hash that is being searched for. By default this is 0. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - [options.allowUnmatched] If set to false, a non-matching User-Agent will result in properties without set values. If set to true, a non-matching User-Agent will cause the 'default profiles' to be returned. This means that properties will always have values (i.e. no need to check .HasValue) but some may be inaccurate. By default, this is false. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{boolean}</span> - [options.createTempDataCopy] If true, the engine will create a copy of the data file in a temporary location rather than using the file provided directly. If not loading all data into memory, this is required for automatic data updates to occur. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{string}</span> - [options.tempDataDir] The directory to use for the temporary data copy if 'createTempDataCopy' is set to true. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">{DataFileUpdateService}</span> - [options.dataFileUpdateService] Set DataFileUpdateService so the datafiles can receive automatic updates </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
</section>
</div><!-- primary -->
  <div class="g-docs__sidebar">
    <div class="c-section-nav">
      <h5 class="c-section-nav__heading">On This Page</h5>
        <ul class="c-section-nav__list">
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#pub-methods">Public Member Functions</a></li>    </div>
  </div>
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
